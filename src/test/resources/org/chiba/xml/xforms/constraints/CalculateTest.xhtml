<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:xf="http://www.w3.org/2002/xforms">
    <head>
        <meta name="author" content="unl at users.sourceforge.net"/>
        <meta name="description" content="test form for dependency calculation"/>
        <meta name="version" content="$Id: CalculateTest.xhtml,v 1.1 2009/02/17 09:00:54 civilis Exp $"/>
        <xf:model>
            <xf:instance xmlns="">
                <data>
                    <test1>
                        <item1/>
                        <item2>1</item2>
                        <item3/>
                        <item4>1</item4>
                        <item5>1</item5>
                        <item6>1</item6>
                    </test1>
                    <test2>
                        <item id="1"/>
                        <item id="2">1</item>
                        <item id="3"/>
                        <item id="4">1</item>
                        <item id="5">1</item>
                        <item id="6">1</item>
                    </test2>
                    <test3>
                        <a>10</a>
                        <b>10</b>
                        <c/>
                        <d/>
                    </test3>
                    <test4>
                        <item/>
                    </test4>
                </data>
            </xf:instance>
            <xf:bind id="b-1" nodeset="test1">
                <xf:bind id="b-11" nodeset="item1" calculate="../item2 + ../item3" type="float"/>
                <xf:bind id="b-12" nodeset="item2" type="float"/>
                <xf:bind id="b-13" nodeset="item3" calculate="../item4 + ../item5 + ../item6" type="float"/>
                <xf:bind id="b-14" nodeset="item4" type="float"/>
                <xf:bind id="b-15" nodeset="item5" type="float"/>
                <xf:bind id="b-16" nodeset="item6" type="float"/>
            </xf:bind>
            <xf:bind id="b-1" nodeset="test2">
                <xf:bind id="b-21" nodeset="item[@id='1']" calculate="../item[@id='2'] + ../item[@id='3']" type="float"/>
                <xf:bind id="b-22" nodeset="item[@id='2']" type="float"/>
                <xf:bind id="b-23" nodeset="item[@id='3']" calculate="../item[@id='4'] + ../item[@id='5'] + ../item[@id='6']" type="float"/>
                <xf:bind id="b-24" nodeset="item[@id='4']" type="float"/>
                <xf:bind id="b-25" nodeset="item[@id='5']" type="float"/>
                <xf:bind id="b-26" nodeset="item[@id='6']" type="float"/>
            </xf:bind>
            <xf:bind id="b-3" nodeset="test3">
                <xf:bind id="b-31" nodeset="a"/>
                <xf:bind id="b-32" nodeset="b"/>
                <xf:bind id="b-33" nodeset="c" calculate="../a * ../b" constraint=". &lt;= 100"/>
                <xf:bind id="b-34" nodeset="d" calculate="../a + ../b" constraint=". &lt;= 20"/>
            </xf:bind>
            <xf:bind id="b-4" nodeset="test4">
                <xf:bind id="b-41" nodeset="item" calculate="foo"/>
            </xf:bind>
        </xf:model>
    </head>
    <body>
        <xf:group>
            <xf:label>Test plain calculation</xf:label>
            <xf:input id="i-11" bind="b-11"><xf:label>item 11</xf:label></xf:input>
            <xf:input id="i-12" bind="b-12"><xf:label>item 12</xf:label></xf:input>
            <xf:input id="i-13" bind="b-13"><xf:label>item 13</xf:label></xf:input>
            <xf:input id="i-14" bind="b-14"><xf:label>item 14</xf:label></xf:input>
            <xf:input id="i-15" bind="b-15"><xf:label>item 15</xf:label></xf:input>
            <xf:input id="i-16" bind="b-16"><xf:label>item 16</xf:label></xf:input>
        </xf:group>
        <xf:group>
            <xf:label>Test calculation with predicates</xf:label>
            <xf:input id="i-21" bind="b-21"><xf:label>item 21</xf:label></xf:input>
            <xf:input id="i-22" bind="b-22"><xf:label>item 22</xf:label></xf:input>
            <xf:input id="i-23" bind="b-23"><xf:label>item 23</xf:label></xf:input>
            <xf:input id="i-24" bind="b-24"><xf:label>item 24</xf:label></xf:input>
            <xf:input id="i-25" bind="b-25"><xf:label>item 25</xf:label></xf:input>
            <xf:input id="i-26" bind="b-26"><xf:label>item 26</xf:label></xf:input>
        </xf:group>
        <xf:group>
            <xf:label>Test calculation example from <a href="http://www.w3.org/TR/xforms/sliceD.html#rpm-processing-recalc-example">XForms 1.0 (Second Edition)</a></xf:label>
            <xf:input id="i-31" bind="b-31"><xf:label>item 31</xf:label></xf:input>
            <xf:input id="i-32" bind="b-32"><xf:label>item 32</xf:label></xf:input>
            <xf:input id="i-33" bind="b-33"><xf:label>item 33</xf:label></xf:input>
            <xf:input id="i-34" bind="b-34"><xf:label>item 34</xf:label></xf:input>
        </xf:group>
        <xf:group>
            <xf:label>Test calculation of non-existing node</xf:label>
            <xf:input id="i-41" bind="b-41"><xf:label>item 41</xf:label></xf:input>
        </xf:group>
    </body>
</html>
